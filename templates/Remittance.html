<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form A2 - Application for Remittances Abroad</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border: 3px solid #003d7a;
        }
        
        .header {
            text-align: right;
            margin-bottom: 20px;
        }
        
        .bank-logo {
            color: #003d7a;
            font-size: 28px;
            font-weight: bold;
            font-family: 'Helvetica', sans-serif;
        }
        
        .form-title-section {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .form-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .form-subtitle {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .annexure {
            text-align: right;
            font-size: 12px;
            margin-bottom: 15px;
        }
        
        .top-info-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .top-info-table td {
            border: 2px solid #000;
            padding: 8px;
            font-size: 11px;
        }
        
        .top-info-table label {
            font-weight: bold;
            display: block;
            margin-bottom: 3px;
        }
        
        .top-info-table input {
            width: 100%;
            padding: 6px;
            border: 1px solid #999;
            font-size: 12px;
        }
        
        .section {
            margin-bottom: 20px;
            padding: 15px;
            border: 2px solid #003d7a;
        }
        
        .section-title {
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 12px;
            color: #003d7a;
        }
        
        .form-group {
            margin-bottom: 12px;
        }
        
        .form-group label {
            display: block;
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        
        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #999;
            font-size: 12px;
            background: #fff;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 12px;
        }
        
        .checkbox-option {
            margin-bottom: 12px;
        }
        
        .checkbox-option label {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            font-size: 11px;
            font-weight: normal;
        }
        
        .checkbox-option input[type="checkbox"] {
            margin-top: 3px;
            width: 16px;
            height: 16px;
            flex-shrink: 0;
        }
        
        .note {
            font-size: 10px;
            font-style: italic;
            color: #666;
            margin: 8px 0;
        }
        
        .purpose-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .purpose-table th,
        .purpose-table td {
            border: 1px solid #000;
            padding: 8px;
            font-size: 11px;
        }
        
        .purpose-table th {
            background: #f0f0f0;
            font-weight: bold;
        }
        
        .purpose-table input {
            width: 100%;
            border: none;
            padding: 4px;
            font-size: 11px;
        }
        
        .declaration-section {
            margin-top: 25px;
            padding: 20px;
            border: 3px solid #000;
        }
        
        .declaration-title {
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 5px;
        }
        
        .declaration-subtitle {
            font-size: 11px;
            text-align: center;
            margin-bottom: 15px;
            font-style: italic;
        }
        
        .declaration-text {
            font-size: 11px;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .signature-section {
            margin-top: 20px;
            padding: 15px;
            border-top: 2px solid #ccc;
        }
        
        .signature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        
        .signature-box {
            border: 2px solid #000;
            min-height: 80px;
            background: #fafafa;
        }
        
        .signature-label {
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .footer-note {
            text-align: center;
            font-size: 10px;
            margin-top: 15px;
            font-style: italic;
            color: #666;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="bank-logo">citibank</div>
        </div>
        
        <!-- Form Title -->
        <div class="form-title-section">
            <div class="form-title">Form A2</div>
            <div class="form-subtitle">(For payments other than imports and remittances covering intermediary trade)</div>
            <div class="form-subtitle">Application for remittances abroad</div>
        </div>
        
        <div class="annexure">Annexure V</div>
        
        <!-- Top Information Table -->
        <table class="top-info-table">
            <tr>
                <td style="width: 33%;">
                    <label>AD Code No.:</label>
                    <input type="text" id="ad_code" placeholder="AD Code">
                </td>
                <td style="width: 33%;">
                    <label>Currency:</label>
                    <input type="text" id="currency" placeholder="e.g., USD, EUR, GBP">
                </td>
                <td style="width: 34%;">
                    <label>Equivalent to Rs.<br>(To be filled in by Authorised Dealer)</label>
                    <input type="text" id="equivalent_rs" placeholder="Amount in Rupees">
                </td>
            </tr>
            <tr>
                <td>
                    <label>Form No.:</label>
                    <input type="text" id="form_no" placeholder="Form Number">
                </td>
                <td colspan="2">
                    <label>Amount:</label>
                    <input type="text" id="amount" placeholder="Amount to be remitted">
                </td>
            </tr>
        </table>
        
        <div class="note" style="text-align: center; margin-bottom: 20px;">
            (To be completed by the applicant)
        </div>
        
        <!-- Section I: Details of the applicant -->
        <div class="section">
            <div class="section-title">I. Details of the applicant -</div>
            
            <div class="form-group">
                <label>a. Name</label>
                <input type="text" id="applicant_name" placeholder="Full Name">
            </div>
            
            <div class="form-group">
                <label>b. Address</label>
                <input type="text" id="applicant_address" placeholder="Complete Address">
            </div>
            
            <div class="form-group">
                <label>c. Account No.</label>
                <input type="text" id="account_no" placeholder="Account Number">
            </div>
        </div>
        
        <!-- Section II: Details of foreign exchange required -->
        <div class="section">
            <div class="section-title">II. Details of the foreign exchange required</div>
            
            <div class="form-group">
                <label>1. Amount (Specify currency)</label>
                <input type="text" id="forex_amount" placeholder="Amount and Currency">
            </div>
        </div>
        
        <!-- Section III: Authorization -->
        <div class="section">
            <div class="section-title">III. I authorise you to debit my Saving Bank/Current/NRE/EEFC Account No. _________________ together with your charges and</div>
            
            <div class="checkbox-option">
                <label>
                    <input type="checkbox" id="issue_draft" value="draft">
                    * a) Issue a draft
                </label>
            </div>
            
            <div class="form-group">
                <label>Beneficiary's Name</label>
                <input type="text" id="beneficiary_name" placeholder="Beneficiary Name">
            </div>
            
            <div class="form-group">
                <label>Address</label>
                <input type="text" id="beneficiary_address" placeholder="Beneficiary Address">
            </div>
            
            <div class="checkbox-option">
                <label>
                    <input type="checkbox" id="effect_remittance" value="remittance">
                    * b) Effect the foreign exchange remittance directly -
                </label>
            </div>
            
            <div class="form-group">
                <label>1. Beneficiary's Name</label>
                <input type="text" id="remit_beneficiary_name" placeholder="Beneficiary Name">
            </div>
            
            <div class="form-group">
                <label>2. Name and address of the Bank</label>
                <input type="text" id="bank_name_address" placeholder="Bank Name and Address">
            </div>
            
            <div class="form-group">
                <label>3. Account No.</label>
                <input type="text" id="beneficiary_account" placeholder="Beneficiary Account Number">
            </div>
            
            <div class="checkbox-option">
                <label>
                    <input type="checkbox" id="travellers_cheques" value="cheques">
                    * c) Issue travellers cheques for
                </label>
            </div>
            
            <div class="checkbox-option">
                <label>
                    <input type="checkbox" id="currency_notes" value="notes">
                    * d) Issue foreign currency notes for
                </label>
            </div>
            
            <div class="note">* (Strike out whichever is not applicable)</div>
        </div>
        
        <!-- Purpose Table -->
        
        
        <!-- Declaration Section -->
        <div class="declaration-section">
            <div class="declaration-title">DECLARATION</div>
            <div class="declaration-subtitle">(Under FEMA 1999)</div>
            
            <div class="declaration-text">
                I, _________________________________ declare that -
            </div>
            
            <div class="declaration-text">
                1) The total amount of foreign exchange purchased from or remitted through, all sources in India during this calendar year including this application is within USD ____________ (USD _____________________________ only) the annual limit prescribed by Reserve Bank of India for the said purpose.
            </div>
            
            <div class="declaration-text">
                2) * The foreign exchange purchased is for the purpose indicated above.
            </div>
            
            <div class="declaration-text">
                3) We hereby declare that we have made the request to purchase foreign exchange (if applicable) only after utilizing the available balances, if any, in all our EEFC account(s)/RFC(D)/Diamond Dollar Account(s) across all banks or because we do not have any EEFC account(s)/RFC(D)/xxs/ Diamond Dollar Account(s) across any bank, as the case may be.
            </div>
            
            <div class="note">* (Strike out whichever is not applicable)</div>
            
            <!-- Signature Section -->
            <div class="signature-section">
                <div class="signature-grid">
                    <div>
                        <div class="signature-label">Signature:</div>
                        <div class="signature-box"></div>
                    </div>
                    <div>
                        <div style="text-align: right; font-size: 10px; font-style: italic; margin-bottom: 10px;">
                            (The purpose codes are on the reverse)
                        </div>
                    </div>
                </div>
                
                <div class="form-row" style="margin-top: 15px;">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" id="declarant_name" placeholder="Full Name">
                    </div>
                    <div class="form-group">
                        <label>Date:</label>
                        <input type="text" id="declaration_date" placeholder="DD/MM/YYYY">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer-note">
            Form A2-V
        </div>
    </div>
    
    <script>
        window.addEventListener('load', function() {
            // Helper function to fill form fields
            const fillField = (id, value) => { 
                const el = document.getElementById(id); 
                if (el && value) el.value = value; 
            };
            
            // Always fill current date by default
            const today = new Date();
            const day = String(today.getDate()).padStart(2, '0');
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const year = String(today.getFullYear());
            const currentDate = `${day}/${month}/${year}`;
            fillField('declaration_date', currentDate);
            
            const rawData = localStorage.getItem('remittanceData');
            if (rawData) {
                try {
                    const data = JSON.parse(rawData);
                    
                    function findValue(...fieldNames) {
                        for (let fieldName of fieldNames) {
                            if (data[fieldName] !== undefined && data[fieldName] !== null && data[fieldName] !== '') return data[fieldName];
                        }
                        return '';
                    }
                    
                    // Top section
                    fillField('form_no', findValue('form_no', 'form_number'));
                    fillField('currency', findValue('currency'));
                    fillField('amount', findValue('amount'));
                    fillField('ad_code', findValue('ad_code'));
                    fillField('equivalent_rs', findValue('equivalent_rs'));
                    
                    // Section I - Applicant details
                    fillField('applicant_name', findValue('applicant_name', 'name'));
                    fillField('applicant_address', findValue('applicant_address', 'address'));
                    fillField('account_no', findValue('account_no', 'account_number'));
                    
                    // Section II - Foreign exchange amount
                    fillField('forex_amount', findValue('forex_amount', 'amount_currency'));
                    
                    // Section III - Remittance method
                    const remitMethod = findValue('remit_method', 'remittance_method');
                    
                    if (remitMethod === 'draft') {
                        const draftCheckbox = document.getElementById('issue_draft');
                        if (draftCheckbox) draftCheckbox.checked = true;
                        fillField('beneficiary_name', findValue('beneficiary_name'));
                        fillField('beneficiary_address', findValue('beneficiary_address'));
                    }
                    else if (remitMethod === 'direct_transfer' || remitMethod === 'remittance') {
                        const remitCheckbox = document.getElementById('effect_remittance');
                        if (remitCheckbox) remitCheckbox.checked = true;
                        fillField('remit_beneficiary_name', findValue('remit_beneficiary_name', 'beneficiary_name'));
                        fillField('bank_name_address', findValue('bank_name_address', 'bank_address'));
                        fillField('beneficiary_account', findValue('beneficiary_account', 'beneficiary_acc'));
                    }
                    else if (remitMethod === 'travellers_cheques' || remitMethod === 'cheques') {
                        const chequesCheckbox = document.getElementById('travellers_cheques');
                        if (chequesCheckbox) chequesCheckbox.checked = true;
                    }
                    else if (remitMethod === 'currency_notes' || remitMethod === 'notes') {
                        const notesCheckbox = document.getElementById('currency_notes');
                        if (notesCheckbox) notesCheckbox.checked = true;
                    }
                    
                    // Declaration
                    fillField('declarant_name', findValue('declarant_name', 'applicant_name', 'name'));
                    const declDate = findValue('declaration_date', 'date');
                    if (declDate) fillField('declaration_date', declDate);
                    
                    // Print after delay
                    setTimeout(() => window.print(), 1000);
                } catch (error) { 
                    console.error('Error populating remittance form:', error); 
                }
            }
        });
    </script>
</body>
</html>